# See https://wiki.hyprland.org/Configuring/Binds/

# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
# !! DO NOT TOUCH hyprland/keybinds.conf TO AVOID LOSING UPDATES             !!
# !! ALL CUSTOM OVERRIDES AND NEW BINDS GO HERE                              !!
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

# -----------------------------------------------------
# ##! Unbinds (Clearing defaults to prevent conflicts)
# -----------------------------------------------------
# Shell & UI
unbind = SUPER, Super_L
unbind = SUPER, Super_R
unbind = SUPER, V
unbind = SUPER, Period
unbind = SUPER, Tab
unbind = SUPER, A
unbind = SUPER, R
unbind = SUPER, N
unbind = SUPER, Slash
unbind = SUPER, J
unbind = Ctrl+Alt, Delete

# Apps
unbind = SUPER, Return
unbind = SUPER, T
unbind = SUPER, E
unbind = SUPER, W
unbind = SUPER, C
unbind = SUPER, X
unbind = SUPER, I
unbind = SUPER, B

# Window Management
unbind = SUPER, Q
unbind = SUPER, D
unbind = SUPER, F
unbind = SUPER+Alt, Space

# Workspaces (Numbers & Keypad)
unbind = SUPER, 1
unbind = SUPER, 2
unbind = SUPER, 3
unbind = SUPER, 4
unbind = SUPER, 5
unbind = SUPER, 6
unbind = SUPER, 7
unbind = SUPER, 8
unbind = SUPER, 9
unbind = SUPER, 0
unbind = SUPER, code:10
unbind = SUPER, code:11
unbind = SUPER, code:12
unbind = SUPER, code:13
unbind = SUPER, code:14
unbind = SUPER, code:15
unbind = SUPER, code:16
unbind = SUPER, code:17
unbind = SUPER, code:18
unbind = SUPER, code:19
unbind = SUPER, code:87
unbind = SUPER, code:88
unbind = SUPER, code:89
unbind = SUPER, code:83
unbind = SUPER, code:84
unbind = SUPER, code:85
unbind = SUPER, code:79
unbind = SUPER, code:80
unbind = SUPER, code:81
unbind = SUPER, code:90

# Media & Hardware
unbind = SUPER+Shift, N
unbind = SUPER+Shift, B
unbind = SUPER+Shift, P
unbind = SUPER+Shift, M
unbind = SUPER+Alt, M
unbind = , XF86AudioRaiseVolume
unbind = , XF86AudioLowerVolume
unbind = , XF86AudioMute
unbind = , XF86AudioMicMute
unbind = , XF86MonBrightnessUp
unbind = , XF86MonBrightnessDown

# Utilities
unbind = SUPER+Shift, S
unbind = SUPER+Shift, T
unbind = SUPER+Shift, C
unbind = , Print

# Resizing
unbind = SUPER+Ctrl, Right
unbind = SUPER+Ctrl, Left
unbind = SUPER+Ctrl, Up
unbind = SUPER+Ctrl, Down

# -----------------------------------------------------
# ##! Shell & UI Toggles
# -----------------------------------------------------
# Launcher (RELEASE triggers)
bindid = Super, Super_L, Toggle search, global, quickshell:searchToggleRelease # Toggle search
bindid = Super, Super_R, Toggle search, global, quickshell:searchToggleRelease # [hidden] Toggle search
bindit = ,Super_L, global, quickshell:workspaceNumber # [hidden]
bindit = ,Super_R, global, quickshell:workspaceNumber # [hidden]

# Clipboard & Emoji
bindd = Super, V, Clipboard history >> clipboard, global, quickshell:overviewClipboardToggle # Clipboard history >> clipboard
bindd = Super, comma, Emoji >> clipboard, global, quickshell:overviewEmojiToggle # Emoji >> clipboard

# Quickshell UI Toggles
bind = , F12, exec, notify-send "Hyprland Config Loaded"
bind = SUPER, K, exec, notify-send "Hyprland Bind Test"
bindd = SUPER, Tab, Toggle overview, exec, bash -c "/usr/bin/quickshell -c ii ipc call search toggle"
bindd = SUPER, A, Toggle left sidebar, global, quickshell:sidebarLeftToggle
bind = SUPER, Q, global, quickshell:sidebarLeftToggle # [hidden]
bindd = SUPER, W, Toggle right sidebar, global, quickshell:sidebarRightToggle
bind = SUPER, N, global, quickshell:sidebarRightToggle # [hidden]
bindd = SUPER, Slash, Toggle cheatsheet, global, quickshell:cheatsheetToggle
bindd = SUPER, J, Toggle bar, global, quickshell:barToggle
bindd = Ctrl+Super, T, Wallpaper selector, exec, /usr/bin/quickshell -c $qsConfig ipc call wallpaperSelectorToggle || ~/.config/quickshell/$qsConfig/scripts/colors/switchwall.sh

# Session Menu
bindd = Ctrl+Alt, Delete, Session menu, exec, /usr/bin/quickshell -c ii ipc call sessionToggle || pkill wlogout || wlogout -p layer-shell

# YouTube Search (Custom)
bind = SUPER, R, exec, /usr/bin/quickshell -c ii ipc call youtubeSearch toggle

# -----------------------------------------------------
# ##! Applications
# -----------------------------------------------------
bind = SUPER, Return, exec, kitty
bind = SUPER, T, exec, kitty
bind = SUPER, E, exec, ~/.config/hypr/hyprland/scripts/launch_first_available.sh "nautilus" "dolphin" "nemo" "thunar" "${TERMINAL}" "kitty -1 bash -c yazi"
bind = SUPER, B, exec, ~/.config/hypr/hyprland/scripts/launch_first_available.sh "zen-browser" "google-chrome-stable" "firefox" "brave" "chromium" "microsoft-edge-stable" "opera" "librewolf"
bind = SUPER, X, exec, ~/.config/hypr/hyprland/scripts/launch_first_available.sh "gedit" "gnome-text-editor" "emacs" "kate"
bind = SUPER+Shift, C, exec, gnome-calculator

# -----------------------------------------------------
# ##! Window Management
# -----------------------------------------------------
bind = SUPER, C, killactive # Close
bind = SUPER, D, fullscreen, 1 # Maximize
bind = SUPER, F, fullscreen, 0 # Fullscreen
bind = SUPER+Alt, Space, togglefloating # Float/Tile
bind = SUPER, P, pin # Pin

# Focus
bind = SUPER, Left, movefocus, l
bind = SUPER, Right, movefocus, r
bind = SUPER, Up, movefocus, u
bind = SUPER, Down, movefocus, d

# Resizing (Custom)
binde = SUPER+Ctrl, right, resizeactive, 30 0
binde = SUPER+Ctrl, left, resizeactive, -30 0
binde = SUPER+Ctrl, down, resizeactive, 0 30
binde = SUPER+Ctrl, up, resizeactive, 0 -30

# Movement
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bind = SUPER+Alt, Left, movewindow, l
bind = SUPER+Alt, Right, movewindow, r
bind = SUPER+Alt, Up, movewindow, u
bind = SUPER+Alt, Down, movewindow, d

# -----------------------------------------------------
# ##! Workspaces
# -----------------------------------------------------
# Switch workspaces (1-10)
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

# Move window to workspace (SUPER + Shift + 1-10)
bind = SUPER+Shift, 1, movetoworkspace, 1
bind = SUPER+Shift, 2, movetoworkspace, 2
bind = SUPER+Shift, 3, movetoworkspace, 3
bind = SUPER+Shift, 4, movetoworkspace, 4
bind = SUPER+Shift, 5, movetoworkspace, 5
bind = SUPER+Shift, 6, movetoworkspace, 6
bind = SUPER+Shift, 7, movetoworkspace, 7
bind = SUPER+Shift, 8, movetoworkspace, 8
bind = SUPER+Shift, 9, movetoworkspace, 9
bind = SUPER+Shift, 0, movetoworkspace, 10

# Move window to workspace (SUPER + Alt + 1-10)
bind = SUPER+Alt, 1, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 1
bind = SUPER+Alt, 2, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 2
bind = SUPER+Alt, 3, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 3
bind = SUPER+Alt, 4, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 4
bind = SUPER+Alt, 5, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 5
bind = SUPER+Alt, 6, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 6
bind = SUPER+Alt, 7, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 7
bind = SUPER+Alt, 8, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 8
bind = SUPER+Alt, 9, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 9
bind = SUPER+Alt, 0, exec, ~/.config/hypr/hyprland/scripts/workspace_action.sh movetoworkspace 10

# Workspace navigation
binde = SUPER, BracketRight, workspace, r+1
binde = SUPER, BracketLeft, workspace, r-1

# Move window relative
bind = SUPER+Shift, Left, movetoworkspace, -1
bind = SUPER+Shift, Right, movetoworkspace, +1

# Special Workspace (Scratchpad)
bind = SUPER+Alt, S, movetoworkspace, special
bind = SUPER, S, togglespecialworkspace

# -----------------------------------------------------
# ##! Utilities
# -----------------------------------------------------
# Screenshot
bind = , Print, exec, hyprshot -o $HOME/Pictures/Screenshots/ -m output
bindd = SUPER+Shift, S, Screen snip, exec, /usr/bin/quickshell -p ~/.config/quickshell/$qsConfig/screenshot.qml || hyprshot -m region --clipboard-only

# OCR & Color Picker
bindd = SUPER+Shift, T, OCR, exec, grim -g "$(slurp)" "tmp.png" && tesseract "tmp.png" - | wl-copy && rm "tmp.png"
bindd = SUPER, P, Color picker, exec, hyprpicker -a 

# Zoom
binde = SUPER, Equal, exec, /usr/bin/quickshell -c $qsConfig ipc call zoom zoomIn || hyprctl keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/float/ {print $2 + 0.6}')
binde = SUPER, Minus, exec, /usr/bin/quickshell -c $qsConfig ipc call zoom zoomOut || hyprctl keyword cursor:zoom_factor $(hyprctl getoption cursor:zoom_factor | awk '/float/ {print $2 - 0.6}')

# -----------------------------------------------------
# ##! Media & Hardware
# -----------------------------------------------------
# Playback
bind = SUPER+Shift, P, exec, playerctl play-pause
bind = SUPER+Shift, N, exec, playerctl next
bind = SUPER+Shift, B, exec, playerctl previous

# Volume
bindel = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1.5 @DEFAULT_AUDIO_SINK@ 5%+
bindel = , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl = , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# Brightness
bindel = , XF86MonBrightnessUp, exec, brightnessctl set 5%+
bindel = , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Microphone
bindl = , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# -----------------------------------------------------
# ##! Maintenance & Config
# -----------------------------------------------------
bind = Ctrl+Super, R, exec, killall quickshell qs; /usr/bin/quickshell -c $qsConfig & # Restart Quickshell
bind = Ctrl+Super, Slash, exec, xdg-open ~/.config/illogical-impulse/config.json # Edit shell config
bind = Ctrl+Super+Alt, Slash, exec, xdg-open ~/.config/hypr/custom/keybinds.conf # Edit extra keybinds
bind = SUPER, L, exec, hyprlock

# Essential Quickshell Interrupts
binditn = SUPER, catchall, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = Ctrl, SUPER_L, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = Ctrl, SUPER_R, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = SUPER, mouse:272, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = SUPER, mouse:273, global, quickshell:overviewToggleReleaseInterrupt # [hidden]

# Clipboard service (if not already started)
exec-once = wl-paste --type text --watch cliphist store 
exec-once = wl-paste --type image --watch cliphist store
