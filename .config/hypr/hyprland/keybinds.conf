# Lines ending with `# [hidden]` won't be shown on cheatsheet
# Lines starting with #! are section headings

#!
##! Shell
# 1. THE SUPER KEY (Launcher)
# We use 'bindr' so it only triggers when you RELEASE the key without pressing anything else.
bindr = Super, Super_L, exec, qs -c $qsConfig ipc call overviewToggleRelease || pkill fuzzel || fuzzel
bindr = Super, Super_R, exec, qs -c $qsConfig ipc call overviewToggleRelease || pkill fuzzel || fuzzel

# 2. THE CLIPBOARD (Super + V)
# This tries Quickshell first, then Fuzzel/Cliphist.
bindd = Super, V, Clipboard history, exec, qs -c $qsConfig ipc call overviewClipboardToggle || (cliphist list | fuzzel --dmenu | cliphist decode | wl-copy)

# 3. EMOJI MENU (Super + Period)
bindd = Super, Period, Emoji menu, exec, qs -c $qsConfig ipc call overviewEmojiToggle || ~/.config/hypr/hyprland/scripts/fuzzel-emoji.sh copy

# 4. SESSION MENU (Ctrl + Alt + Delete)
bindd = Ctrl+Alt, Delete, Session menu, exec, qs -c $qsConfig ipc call sessionToggle || pkill wlogout || wlogout -p layer-shell

# --- Quickshell Interrupts (Essential to prevent flickering) ---
binditn = Super, catchall, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = Ctrl, Super_L, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = Ctrl, Super_R, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = Super, mouse:272, global, quickshell:overviewToggleReleaseInterrupt # [hidden]
bind = Super, mouse:273, global, quickshell:overviewToggleReleaseInterrupt # [hidden]

# --- UI Toggles (Native Quickshell) ---
bindd = Super, Tab, Toggle overview, global, quickshell:overviewToggle # [hidden]
bindd = Super, A, Toggle left sidebar, global, quickshell:sidebarLeftToggle 
bindd = Super, W, Toggle right sidebar, global, quickshell:sidebarRightToggle
bindd = Super, Slash, Toggle cheatsheet, global, quickshell:cheatsheetToggle
bindd = Super, J, Toggle bar, global, quickshell:barToggle
bindd = Ctrl+Super, T, Wallpaper selector, exec, qs -c $qsConfig ipc call wallpaperSelectorToggle || ~/.config/quickshell/$qsConfig/scripts/colors/switchwall.sh

# --- Maintenance ---
bind = Ctrl+Super, R, exec, killall quickshell qs; qs -c $qsConfig & # Restart Quickshell

#!
##! Utilities
bindd = Super+Shift, S, Screen snip, exec, qs -p ~/.config/quickshell/$qsConfig/screenshot.qml || hyprshot -m region --clipboard-only
bindd = Super+Shift, T, OCR, exec, grim -g "$(slurp)" "tmp.png" && tesseract "tmp.png" - | wl-copy && rm "tmp.png"
bindd = Super+Shift, C, Color picker, exec, hyprpicker -a 

#!
##! Apps
bind = Super, Return, exec, kitty
bind = Super, T, exec, kitty
bind = Super, E, exec, dolphin
bind = Super, X, exec, kate

#!
##! Window Management
bindm = Super, mouse:272, movewindow
bindm = Super, mouse:273, resizewindow
bind = Super, C, killactive
bind = Super, D, fullscreen, 1
bind = Super, F, fullscreen, 0
bind = Super+Alt, Space, togglefloating

# Focus
bind = Super, Left, movefocus, l
bind = Super, Right, movefocus, r
bind = Super, Up, movefocus, u
bind = Super, Down, movefocus, d
